System.register("chunks:///_virtual/AnimManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./constants.ts"],(function(t){var e,n,i,r,a,o,l,c,s,u,m,f,p,h,g,y,b,d,P;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,l=t.Prefab,c=t.Node,s=t.instantiate,u=t.UITransform,m=t.UIOpacity,f=t.tween,p=t.Vec3,h=t.Animation,g=t.Component},function(t){y=t.RECT_UNIT_SIZE,b=t.STRING_X_SIZE,d=t.STRING_Y_SIZE,P=t.STRING_FADE_ANIMATION}],execute:function(){var A,v,C,F,_,w,I,S,R,T,k,z,B,N;a._RF.push({},"00da463tfhEY4r1sYQXyhSO","AnimManager",void 0);var E=o.ccclass,M=o.property;t("AnimManager",(A=E("AnimManager"),v=M(l),C=M(l),F=M(l),_=M(l),w=M(c),A(((N=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"RectFramePrefab",R,r(e)),i(e,"CircleFramePrefab",T,r(e)),i(e,"StringFramePrefab",k,r(e)),i(e,"TriangleFramePrefab",z,r(e)),i(e,"AnimBlocks",B,r(e)),e}n(e,t),e.getInstance=function(){return null==this._instance&&(this._instance=new e),this._instance};var a=e.prototype;return a.start=function(){e._instance=this},a.onPlayRectFrameAnim=function(t,e,n){var i=s(this.RectFramePrefab);i.setPosition(t);var r=i.getComponent(u);r.width=e.x*y,r.height=e.y*y;var a=i.getComponent(m);i.eulerAngles=n,this.AnimBlocks.addChild(i),f(a).to(.3,{opacity:0}).start(),f(i).to(.3,{scale:new p(1.3,1.3,0)}).call((function(){i.destroy()})).start()},a.onPlayCircleFrameAnim=function(t,e){var n=s(this.CircleFramePrefab);n.setPosition(t);var i=n.getComponent(u);i.width=e.x*y,i.height=e.y*y;var r=n.getComponent(m);this.AnimBlocks.addChild(n),f(r).to(.3,{opacity:0}).start(),f(n).to(.3,{scale:new p(1.3,1.3,0)}).call((function(){n.destroy()})).start()},a.onPlayStringAnim=function(t,e,n){var i=s(this.StringFramePrefab);i.setPosition(t);var r=i.getComponent(u);r.width=e.x*b,r.height=e.y*d;var a=i.getComponent(m);i.eulerAngles=n,this.AnimBlocks.addChild(i),this.scheduleOnce((function(){f(a).to(.6,{opacity:0}).call((function(){i.destroy()})).start()}),.2),i.getComponent(h).play(P)},a.onPlayTriangleAnim=function(t,e,n){var i=s(this.RectFramePrefab);i.setPosition(t);var r=i.getComponent(u);r.width=e.x*y,r.height=e.y*y;var a=i.getComponent(m);i.eulerAngles=n,this.AnimBlocks.addChild(i),f(a).to(.3,{opacity:0}).start(),f(i).to(.3,{scale:new p(1.3,1.3,0)}).call((function(){i.destroy()})).start()},e}(g))._instance=null,R=e((S=N).prototype,"RectFramePrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(S.prototype,"CircleFramePrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(S.prototype,"StringFramePrefab",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(S.prototype,"TriangleFramePrefab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(S.prototype,"AnimBlocks",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=S))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var e,t,n,i,u,a,c,r,s,l;return{setters:[function(o){e=o.inheritsLoose,t=o.createClass},function(o){n=o.cclegacy,i=o._decorator,u=o.Node,a=o.director,c=o.AudioSource,r=o.AudioClip,s=o.resources,l=o.Component}],execute:function(){var d,h;n._RF.push({},"2d9fbb2EeBPQI4aFQloY7ao","AudioManager",void 0);var p=i.ccclass,S=(i.property,"SoundClips/");o("AudioManager",p("AudioManager")(((h=function(o){function n(){var e;(e=o.call(this)||this)._audioSource=null,e._whiteToneCount=0;var t=new u;return t.name="_AudioManager",a.getScene().addChild(t),a.addPersistRootNode(t),e._audioSource=t.addComponent(c),e}e(n,o),n.getInstance=function(){return null==this._instance&&(this._instance=new n),this._instance};var i=n.prototype;return i.resetCounts=function(){this._whiteToneCount=0},i.playWhiteBlockSound=function(){this.playOneShot("a"+(this._whiteToneCount+1)),this._whiteToneCount++},i.playWhiteStringSound=function(){this.playOneShot("b"+(this._whiteToneCount+1)),this._whiteToneCount++},i.playBlackBlockHit=function(){this.playOneShot("d")},i.playOneShot=function(o,e){var t=this;if(void 0===e&&(e=1),o instanceof r)this._audioSource.playOneShot(o,e);else{var n=S+o;s.load(n,(function(o,n){o?console.log(o):t._audioSource.playOneShot(n,e)}))}},i.play=function(o,e){var t=this;if(void 0===e&&(e=1),o instanceof r)this._audioSource.stop(),this._audioSource.clip=o,this._audioSource.play(),this.audioSource.volume=e;else{var n=S+o;s.load(n,(function(o,n){o?console.log(o):(t._audioSource.stop(),t._audioSource.clip=n,t._audioSource.play(),t.audioSource.volume=e)}))}},i.stop=function(){this._audioSource.stop()},i.pause=function(){this._audioSource.pause()},i.resume=function(){this._audioSource.play()},t(n,[{key:"audioSource",get:function(){return this._audioSource}}]),n}(l))._instance=null,d=h))||d);n._RF.pop()}}}));

System.register("chunks:///_virtual/BallController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./constants.ts","./GlobalState.ts"],(function(t){var e,i,o,l,n,a,r,s,c,h,u,d,b,f,p,m,v,T,g,y,N;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,r=t.Node,s=t.Prefab,c=t.Vec2,h=t.instantiate,u=t.input,d=t.Input,b=t.tween,f=t.Vec3,p=t.Collider2D,m=t.UITransform,v=t.RigidBody2D,T=t.Component},function(t){g=t.DISABLE_BALL_CONTROLL,y=t.MIN_SWIPE_DISTANCE},function(t){N=t.GlobalState}],execute:function(){var B,C,S,L,P,E,w,A,I,_,O,U,D,z;n._RF.push({},"360bamnaLJK+6yWdL2L8M8M","BallController",void 0);var M=a.ccclass,V=a.property;t("BallController",(B=M("BallController"),C=V(r),S=V(r),L=V(r),P=V(s),B((A=e((w=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).globalState=null,o(e,"ballNode",A,l(e)),o(e,"ballAimNode",I,l(e)),o(e,"tailNode",_,l(e)),o(e,"aimBallPrefab",O,l(e)),o(e,"ballSpeed",U,l(e)),o(e,"aimBallCount",D,l(e)),o(e,"tailBallLifetime",z,l(e)),e.touchStartPos=new c,e.touchEndPos=new c,e.aimBalls=[],e.recordTimeGap=.032,e.recordTimer=0,e}i(e,t);var n=e.prototype;return n.addEventListeners=function(){this.globalState.addListener(g,this.onDisableBallControll.bind(this))},n.onLoad=function(){var t=this;this.globalState=N.getInstance(),this.addEventListeners(),this.ballNode.active=!1,this.aimBalls=Array.from({length:this.aimBallCount},(function(e,i){var o=h(t.aimBallPrefab);return o.active=!1,t.ballAimNode.addChild(o),o})),this.enableTouch()},n.onDestroy=function(){this.disableTouch()},n.enableTouch=function(){u.on(d.EventType.TOUCH_START,this.onTouchStart,this),u.on(d.EventType.TOUCH_MOVE,this.onTouchMove,this),u.on(d.EventType.TOUCH_END,this.onTouchEnd,this)},n.disableTouch=function(){u.off(d.EventType.TOUCH_START,this.onTouchStart,this),u.off(d.EventType.TOUCH_MOVE,this.onTouchMove,this),u.off(d.EventType.TOUCH_END,this.onTouchEnd,this)},n.update=function(t){var e=this.ballNode.getPosition();if((e.y<-670||e.y>670||e.x<-390||e.x>390)&&this.globalState.outOfBounds(),this.recordTimer+=t,this.recordTimer>this.recordTimeGap&&this.ballNode.active){var i=h(this.aimBallPrefab);this.tailNode.addChild(i),i.setPosition(this.ballNode.getPosition()),b(i).to(this.tailBallLifetime,{scale:new f(0,0,1)}).call((function(){i.destroy()})).start()}},n.onTouchStart=function(t){this.ballNode.active=!1,this.ballNode.getComponent(p).enabled=!1,this.touchStartPos=t.getUILocation();var e=this.node.getComponent(m).convertToNodeSpaceAR(new f(t.getUILocation().x,t.getUILocation().y,0));this.ballNode.setPosition(e),this.ballNode.active=!0,this.ballNode.getComponent(v).linearVelocity=new c(0,0)},n.onTouchMove=function(t){if(this.ballNode.active){var e=t.getUILocation(),i=this.node.getComponent(m).convertToNodeSpaceAR(new f(e.x,e.y,0));this.aimBalls.forEach((function(t){t.active=!0})),this.setAimLine(i)}},n.onTouchEnd=function(t){var e=this;if(this.ballNode.active){this.touchEndPos=t.getUILocation();var i=t.getUILocation().subtract(this.touchStartPos),o=i.length()/i.normalize().multiplyScalar(this.ballSpeed).length()/28/this.aimBallCount;this.aimBalls.forEach((function(t,i){e.scheduleOnce((function(){t.active=!1}),o*i)})),this.setBallVelocity()}},n.setBallVelocity=function(){var t=this.touchEndPos.subtract(this.touchStartPos);if(t.length()<y)return this.ballNode.active=!1,void this.tailNode.removeAllChildren();this.ballNode.getComponent(p).enabled=!0;var e=t.normalize().multiplyScalar(this.ballSpeed);this.ballNode.getComponent(v).linearVelocity=new c(e.x,e.y),this.globalState.startTrial()},n.setAimLine=function(t){var e=this;this.aimBalls.forEach((function(t){t.setPosition(e.ballNode.getPosition())}));for(var i=t.subtract(this.ballNode.getPosition()),o=i.x/this.aimBallCount,l=i.y/this.aimBallCount,n=function(t){e.scheduleOnce((function(){e.aimBalls[t-1].setPosition(e.ballNode.getPosition().add(new f(o*t,l*t,0)))}),.1-.01*t)},a=1;a<=this.aimBalls.length;a++)n(a)},n.resetBall=function(){this.ballNode.setPosition(0,0),this.ballNode.getComponent(v).linearVelocity=new c(0,0),this.ballNode.active=!1},n.onDisableBallControll=function(t){t?this.disableTouch():(this.resetBall(),this.enableTouch())},e}(T)).prototype,"ballNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(w.prototype,"ballAimNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(w.prototype,"tailNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(w.prototype,"aimBallPrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(w.prototype,"ballSpeed",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),D=e(w.prototype,"aimBallCount",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 9}}),z=e(w.prototype,"tailBallLifetime",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.4}}),E=w))||E));n._RF.pop()}}}));

System.register("chunks:///_virtual/BlackBlock.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts"],(function(o){var t,n,e,c,i,l,r,a,s;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,e=o._decorator,c=o.Collider2D,i=o.Contact2DType,l=o.tween,r=o.Vec3,a=o.Component},function(o){s=o.AudioManager}],execute:function(){var u;n._RF.push({},"da5cdW3GX9NQqTcInBiqF+O","BlackBlock",void 0);var d=e.ccclass;e.property,o("BlackBlock",d("BlackBlock")(u=function(o){function n(){for(var t,n=arguments.length,e=new Array(n),c=0;c<n;c++)e[c]=arguments[c];return(t=o.call.apply(o,[this].concat(e))||this)._collider=null,t}t(n,o);var e=n.prototype;return e.onLoad=function(){this._collider=this.getComponent(c),this._collider?this._collider.on(i.BEGIN_CONTACT,this.onBeginContact,this):console.error("Collider2D not found")},e.onDestroy=function(){this._collider&&this._collider.off(i.BEGIN_CONTACT,this.onBeginContact,this)},e.onBeginContact=function(){s.getInstance().playBlackBlockHit();var o=this.node.getScale();l(this.node).to(.07,{scale:new r(.95*o.x,.95*o.y,0)}).to(.07,{scale:o}).start()},n}(a))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/constants.ts",["cc"],(function(_){var E;return{setters:[function(_){E=_.cclegacy}],execute:function(){E._RF.push({},"8823cm51WRHb5RH6BjlVjYf","constants",void 0);_("MAX_LEVLES",6),_("MIN_SWIPE_DISTANCE",50),_("MAX_TRIAL_TIME",10),_("RECT_UNIT_SIZE",40),_("STRING_X_SIZE",6),_("STRING_Y_SIZE",60),_("PLAYER","Player"),_("CLOCK_WISE","Clockwise"),_("MOTION_TYPES",{ROTATE:"Rotate",PATROL:"Patrol"}),_("DISABLE_BALL_CONTROLL","disableBallControll"),_("CURRENT_TRIAL_TIME","currentTrialTime"),_("OUT_OF_BOUNDS","outOfBounds"),_("LOADED_WHITE_BLOCKS","loadedWhiteBlocks"),_("LOADED_BLACK_BLOCKS","loadedBlackBlocks"),_("REMAINING_WHITE_BLOCKS","remainingWhiteBlocks"),_("BLOCK_TYPE_WHITE","White"),_("BLOCK_TYPE_BLACK","Black"),_("CLEAR_TIMER","clearTimer"),_("RESET_LEVEL","resetLevel"),_("LOAD_LEVEL","loadLevel"),_("STRING_FADE_ANIMATION","WhiteBlockStringFade");E._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./constants.ts","./AudioManager.ts"],(function(e){var t,n,r,a,c,s,i,o;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){r=e.cclegacy,a=e._decorator,c=e.director,s=e.Component},function(e){i=e.MAX_LEVLES},function(e){o=e.AudioManager}],execute:function(){var u,l;r._RF.push({},"39481UrfbJJTbScRhjSe9H6","GameManager",void 0);var v=a.ccclass;a.property,e("GameManager",v("GameManager")(((l=function(e){function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._totalLevels=i,t._currentLevel=1,t}t(r,e),r.getInstance=function(){return null==this._instance&&(this._instance=new r),this._instance};var a=r.prototype;return a.start=function(){r._instance=this},a.update=function(e){},a.onClickStart=function(){console.log("Start Game"),o.getInstance().play("d"),c.loadScene("Game")},a.setCurrentLevel=function(e){this._currentLevel=e},a.nextLevel=function(){this._currentLevel===this._totalLevels?this._currentLevel=1:this._currentLevel++},n(r,[{key:"currentLevel",get:function(){return this._currentLevel}}]),r}(s))._instance=null,u=l))||u);r._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./constants.ts","./GameManager.ts","./AudioManager.ts"],(function(t){var e,a,n,i,s,l,o,r,c,h,u,m,S,d,g,v,f,B;return{setters:[function(t){e=t.inheritsLoose,a=t.extends},function(t){n=t.cclegacy,i=t._decorator,s=t.EventTarget,l=t.Component},function(t){o=t.LOADED_WHITE_BLOCKS,r=t.REMAINING_WHITE_BLOCKS,c=t.LOADED_BLACK_BLOCKS,h=t.LOAD_LEVEL,u=t.RESET_LEVEL,m=t.DISABLE_BALL_CONTROLL,S=t.CURRENT_TRIAL_TIME,d=t.MAX_TRIAL_TIME,g=t.OUT_OF_BOUNDS,v=t.CLEAR_TIMER},function(t){f=t.GameManager},function(t){B=t.AudioManager}],execute:function(){var T,k;n._RF.push({},"313a2uKfTtMebUR0LhKkuMp","GlobalState",void 0);var L=i.ccclass,_=(i.property,{disableBallControll:!1,currentTrialTime:0,outOfBounds:!1,loadedWhiteBlocks:[],loadedBlackBlocks:[],remainingWhiteBlocks:0});t("GlobalState",L("GlobalState")(((k=function(t){function n(){for(var e,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).timerInterval=null,e.gameState={disableBallControll:!1,currentTrialTime:0,outOfBounds:!1,loadedWhiteBlocks:[],loadedBlackBlocks:[],remainingWhiteBlocks:0},e.eventTarget=new s,e}e(n,t),n.getInstance=function(){return null==this._instance&&(this._instance=new n),this._instance};var i=n.prototype;return i.start=function(){n._instance=this},i.setState=function(t,e){var a=this.gameState[t];a!==e&&(console.log("GlobalState: "+t+" set from "+a+" to "+e),this.gameState[t]=e,this.eventTarget.emit(t,e,a))},i.getState=function(t){return this.gameState[t]},i.deleteState=function(t,e){void 0===e&&(e=void 0),this.setState(t,e)},i.clearAllState=function(){this.gameState=a({},_)},i.addListener=function(t,e){this.eventTarget.on(t,e)},i.removeListener=function(t,e){this.eventTarget.off(t,e)},i.addWhiteBlock=function(t){var e=this.gameState.loadedWhiteBlocks;this.setState(o,[].concat(e,[t])),this.setState(r,e.length+1)},i.removeWhiteBlock=function(t){var e=this.gameState.loadedWhiteBlocks,a=e.indexOf(t);e.splice(a,1),this.setState(o,e)},i.addBlackBlock=function(t){var e=this.gameState.loadedBlackBlocks;this.setState(c,[].concat(e,[t]))},i.removeBlackBlock=function(t){var e=this.gameState.loadedBlackBlocks,a=e.indexOf(t);e.splice(a,1),this.setState(c,e)},i.onWhiteBlockHit=function(){var t=this.gameState.remainingWhiteBlocks-1;this.setState(r,t)},i.checkCompleteLevel=function(){0!==this.gameState.loadedWhiteBlocks&&0===this.gameState.remainingWhiteBlocks?(this.clearAllState(),f.getInstance().nextLevel(),this.eventTarget.emit(h)):(this.deleteState(o,[]),this.deleteState(c,[]),this.eventTarget.emit(u))},i.startTrial=function(){var t=this;this.setState(m,!0),this.setState(S,0),this.timerInterval&&clearInterval(this.timerInterval),this.timerInterval=setInterval((function(){t.setState(S,t.gameState.currentTrialTime+1),t.gameState.currentTrialTime>=d&&t.stopTimer()}),1e3)},i.outOfBounds=function(){this.setState(g,!0),this.stopTimer()},i.stopTimer=function(){this.timerInterval&&(clearInterval(this.timerInterval),this.setState(S,0),this.setState(m,!1),this.eventTarget.emit(v),this.timerInterval=null),B.getInstance().resetCounts(),this.checkCompleteLevel()},n}(l))._instance=null,T=k))||T);n._RF.pop()}}}));

System.register("chunks:///_virtual/Helpers.ts",["cc"],(function(e){var n,r,s;return{setters:[function(e){n=e.cclegacy,r=e.resources,s=e.JsonAsset}],execute:function(){n._RF.push({},"fb0c5gkPh1MMpGenIDUQrrY","Helpers",void 0);e("default",(function(e){var n="GameConfigs/Level"+e;return new Promise((function(e,t){r.load(n,s,(function(n,r){n||e(r.json)}))}))}));n._RF.pop()}}}));

System.register("chunks:///_virtual/LevelManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./Helpers.ts","./constants.ts","./GlobalState.ts"],(function(e){var t,n,i,o,a,l,r,c,s,u,f,h,g,d,p,b,B,k,v,L,P,y,C,m,R;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){r=e.cclegacy,c=e._decorator,s=e.Node,u=e.Prefab,f=e.UITransform,h=e.instantiate,g=e.UIOpacity,d=e.tween,p=e.Vec3,b=e.Component},function(e){B=e.GameManager},function(e){k=e.default},function(e){v=e.LOAD_LEVEL,L=e.RESET_LEVEL,P=e.BLOCK_TYPE_WHITE,y=e.BLOCK_TYPE_BLACK,C=e.MOTION_TYPES,m=e.CLOCK_WISE},function(e){R=e.GlobalState}],execute:function(){var S,W,T,w,E,O,_,M,z,I,x,A,D,G,K,F,H,V,Y;r._RF.push({},"313d83Tn75OgK8XqGif7CuX","LevelManager",void 0);var N=c.ccclass,U=c.property;e("LevelManager",(S=N("LevelManager"),W=U(s),T=U(s),w=U(u),E=U(u),O=U(u),_=U(u),M=U(u),z=U(u),S((A=t((x=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return(t=e.call.apply(e,[this].concat(a))||this).globalState=null,i(t,"WhiteBlocks",A,o(t)),i(t,"BlackBlocks",D,o(t)),i(t,"WhiteBlockRectPrefab",G,o(t)),i(t,"WhiteBlockCirclePrefab",K,o(t)),i(t,"WhiteBlockStringPrefab",F,o(t)),i(t,"WhiteBlockTriangleRPrefab",H,o(t)),i(t,"BlackBlockRectPrefab",V,o(t)),i(t,"BlackBlockTriangleRPrefab",Y,o(t)),t._levelConfig=null,t}n(t,e);var r=t.prototype;return r.addEventListeners=function(){this.globalState.addListener(v,this.onLoadLevel.bind(this)),this.globalState.addListener(L,this.onResetLevel.bind(this))},r.onLoad=function(){this.globalState=R.getInstance(),this.addEventListeners();var e=B.getInstance().currentLevel;this.loadLevelConfig(e)},r.update=function(e){},r.loadLevelConfig=function(){var e=a(l().mark((function e(t){var n=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t);case 2:this._levelConfig=e.sent,this.scheduleOnce((function(){n.loadLevel()}),0);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r.loadLevel=function(){var e=this;this.WhiteBlocks.removeAllChildren(),this.BlackBlocks.removeAllChildren();var t=this._levelConfig.WhiteBlocks,n=this._levelConfig.BlackBlocks,i=this.WhiteBlocks.getComponent(f).width,o=this.WhiteBlocks.getComponent(f).height;t.forEach((function(t){e.generateBlock(t,i,o,P)})),n&&n.length&&n.forEach((function(t){e.generateBlock(t,i,o,y)}))},r.onResetLevel=function(){this.loadLevel()},r.onLoadLevel=function(){var e=B.getInstance().currentLevel;this.loadLevelConfig(e)},r.generateBlock=function(e,t,n,i){var o=this,a=this[e.Prefab+"Prefab"],l=h(a),r=e.Position.x*t+e.Position.xOffset,c=e.Position.y*n+e.Position.yOffset,s=e.Scale.x,u=e.Scale.y;l.setPosition(r,c),l.setScale(.5*s,.5*u),e.Rotate&&(l.angle=e.Rotate.Degrees);var f=l.getComponent(g);if(f.opacity=0,this.BlackBlocks.addChild(l),i===P?this.globalState.addWhiteBlock(l):this.globalState.addBlackBlock(l),d(l).to(.2,{scale:new p(s,u,1)}).start(),d(f).to(.2,{opacity:255}).start(),e.Motion)switch(e.Motion.Type){case C.ROTATE:this.scheduleOnce((function(){o.addRotation(l,e.Motion.Speed,e.Motion.Direction===m)}),.2);break;case C.PATROL:this.scheduleOnce((function(){o.addPatrol(l,e.Motion.Speed,e.Motion.AnchorPoints)}),.2)}},r.addRotation=function(e,t,n){d(e).by(t,{angle:n?-360:360}).repeatForever().start()},r.addPatrol=function(e,t,n){var i=this,o=this.WhiteBlocks.getComponent(f).width,a=this.WhiteBlocks.getComponent(f).height,l=n.map((function(e){return new p(e.x*o+e.xOffset,e.y*a+e.yOffset,0)}));l.push(e.getPosition());var r=d(e);l.forEach((function(e){r=r.to(t,{position:e})})),r.call((function(){i.addPatrol(e,t,n)})).start()},t}(b)).prototype,"WhiteBlocks",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(x.prototype,"BlackBlocks",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(x.prototype,"WhiteBlockRectPrefab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(x.prototype,"WhiteBlockCirclePrefab",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(x.prototype,"WhiteBlockStringPrefab",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(x.prototype,"WhiteBlockTriangleRPrefab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(x.prototype,"BlackBlockRectPrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(x.prototype,"BlackBlockTriangleRPrefab",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=x))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Helpers.ts","./Types.ts","./constants.ts","./AnimManager.ts","./AudioManager.ts","./GameManager.ts","./BallController.ts","./BlackBlock.ts","./LevelManager.ts","./WhiteBlockCircle.ts","./WhiteBlockRect.ts","./WhiteBlockString.ts","./WhiteBlockTriangleR.ts","./GlobalState.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Types.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"bf8b8uzndNOtb7//LCNNucm","Types",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/WhiteBlockCircle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalState.ts","./AnimManager.ts","./AudioManager.ts"],(function(t){var e,n,o,i,c,l,r,a,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,i=t.Collider2D,c=t.Contact2DType,l=t.Component},function(t){r=t.GlobalState},function(t){a=t.AnimManager},function(t){s=t.AudioManager}],execute:function(){var u;n._RF.push({},"55afeieW8hNSL8Dcsfq81de","WhiteBlockCircle",void 0);var h=o.ccclass;o.property,t("WhiteBlockCircle",h("WhiteBlockCircle")(u=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this)._collider=null,e}e(n,t);var o=n.prototype;return o.onLoad=function(){this._collider=this.getComponent(i),this._collider?this._collider.on(c.BEGIN_CONTACT,this.onBeginContact,this):console.error("Collider2D not found")},o.onDestroy=function(){this._collider&&this._collider.off(c.BEGIN_CONTACT,this.onBeginContact,this)},o.onBeginContact=function(t,e){var n=this;s.getInstance().playWhiteBlockSound(),this._collider.enabled=!1,this.scheduleOnce((function(){n.node.active=!1,r.getInstance().onWhiteBlockHit();var t=n.node.getPosition(),e=n.node.getScale();a.getInstance().onPlayCircleFrameAnim(t,e)}),0)},n}(l))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/WhiteBlockRect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalState.ts","./AnimManager.ts","./AudioManager.ts"],(function(t){var e,n,o,i,c,l,r,a,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,i=t.Collider2D,c=t.Contact2DType,l=t.Component},function(t){r=t.GlobalState},function(t){a=t.AnimManager},function(t){s=t.AudioManager}],execute:function(){var u;n._RF.push({},"17713eL7B9Lkr9NfPOArWC6","WhiteBlockRect",void 0);var h=o.ccclass;o.property,t("WhiteBlockRect",h("WhiteBlockRect")(u=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this)._collider=null,e}e(n,t);var o=n.prototype;return o.onLoad=function(){this._collider=this.getComponent(i),this._collider?this._collider.on(c.BEGIN_CONTACT,this.onBeginContact,this):console.error("Collider2D not found")},o.onDestroy=function(){this._collider&&this._collider.off(c.BEGIN_CONTACT,this.onBeginContact,this)},o.onBeginContact=function(t,e){var n=this;s.getInstance().playWhiteBlockSound(),this._collider.enabled=!1,this.scheduleOnce((function(){n.node.active=!1,r.getInstance().onWhiteBlockHit();var t=n.node.getPosition(),e=n.node.getScale(),o=n.node.eulerAngles;a.getInstance().onPlayRectFrameAnim(t,e,o)}),0)},n}(l))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/WhiteBlockString.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalState.ts","./AnimManager.ts","./AudioManager.ts"],(function(n){var t,o,e,i,r,c,l,a,s;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy,e=n._decorator,i=n.Collider2D,r=n.Contact2DType,c=n.Component},function(n){l=n.GlobalState},function(n){a=n.AnimManager},function(n){s=n.AudioManager}],execute:function(){var u;o._RF.push({},"41659jjayhASK9K2Adnn1vq","WhiteBlockString",void 0);var h=e.ccclass;e.property,n("WhiteBlockString",h("WhiteBlockString")(u=function(n){function o(){for(var t,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(t=n.call.apply(n,[this].concat(e))||this)._collider=null,t}t(o,n);var e=o.prototype;return e.onLoad=function(){this._collider=this.getComponent(i),this._collider?this._collider.on(r.BEGIN_CONTACT,this.onBeginContact,this):console.error("Collider2D not found")},e.onDestroy=function(){this._collider&&this._collider.off(r.BEGIN_CONTACT,this.onBeginContact,this)},e.onBeginContact=function(n,t){var o=this;s.getInstance().playWhiteStringSound(),this._collider.enabled=!1,this.scheduleOnce((function(){o.node.active=!1,l.getInstance().onWhiteBlockHit();var n=o.node.getPosition(),t=o.node.getScale(),e=o.node.eulerAngles;a.getInstance().onPlayStringAnim(n,t,e)}),0)},o}(c))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/WhiteBlockTriangleR.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,r,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t._decorator,o=t.Component}],execute:function(){var c;n._RF.push({},"40e7bwRcsRCw5XbkSgjbhbW","WhiteBlockTriangleR",void 0);var i=r.ccclass;r.property,t("WhiteBlockTriangleR",i("WhiteBlockTriangleR")(c=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var r=n.prototype;return r.start=function(){},r.update=function(t){},n}(o))||c);n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});